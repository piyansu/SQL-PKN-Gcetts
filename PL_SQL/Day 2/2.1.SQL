-- WRITE A PROGRAM TO TEST WHEATHER A GIVEN NUMBER IS PRIME OR NOT

DECLARE

NUM NUMBER(3);
R NUMBER(3) ;
F NUMBER(1) :=0 ; 
ID PRIME_ENTRY.PID % TYPE ; 

BEGIN

NUM := '&NUM';
FOR I IN 2..(NUM-1)
LOOP
    R := MOD (NUM , I);
    IF R = 0 THEN
        F:=1 ; 
        GOTO LBL1 ; 
    END IF ; 
END LOOP ; 

<<LBL1>>
IF F = 0 THEN 
    DBMS_OUTPUT.PUT_LINE('PRIME');
    SELECT MAX(PID) INTO ID FROM PRIME_ENTRY ; 
    IF ID IS NULL THEN 
        ID := 1 ;
    ELSE
        ID := ID+1 ;
    END IF ;

    INSERT INTO PRIME_ENTRY VALUES (ID , NUM); 
    DBMS_OUTPUT.PUT_LINE('DATA - INSERTED');

ELSE
    DBMS_OUTPUT.PUT_LINE('NOT - PRIME');
END IF ; 
END;
/
