--WEITE A PLSQL CODE THAT PASS THE WITHDRAW ON 20000 , AND THEN WITHDRAW OF 15000 , NOW IF THE CORRECT BALANCE OF SEPECIFIC ACCNO IS LAZE THAN RUPEES 5000 THEN UNDO THE LAST WITHDRAW JUST MADE .

DECLARE 

    ACCID   ACCOUNT_23.ACNO%TYPE ; 
    AMT     ACCOUNT_23.AMOUNT%TYPE ;

BEGIN

    ACCID := &ACCID ; 
    INSERT INTO TRAN_ACC VALUES (ACCID  , 20000 , 'W' , SYSDATE);
    UPDATE ACCOUNT_23 SET AMOUNT = AMOUNT-20000 WHERE ACNO = ACCID ; 
    SAVEPOINT SVP1 ; 

    INSERT INTO TRAN_ACC VALUES (ACCID  , 15000 , 'W' , SYSDATE);
    UPDATE ACCOUNT_23 SET AMOUNT = AMOUNT-15000 WHERE ACNO = ACCID ; 
    SAVEPOINT SUP1 ;

    SELECT AMOUNT INTO AMT FROM ACCOUNT_23 WHERE ACNO = ACCID ; 

    IF AMT <5000 THEN 
        DBMS_OUTPUT.PUT_LINE('------Low Balance------');
        ROLLBACK TO SAVEPOINT SVP1 ; 
    END IF ; 
    COMMIT ; 

END;
/